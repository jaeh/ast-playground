<!DOCTYPE html>@magic/core library docs{"@context":"http://schema.org","@type":"website","name":"@magic/core documentation","url":"https://magic.github.io/core","about":"@magic framework core.","image":"https://magic.github.io/core/logo.png","author":{"@type":"person","name":"Jascha Ehrenreich","jobTitle":"Technomancer","image":"https:/jaeh.at/img/jascha.ehrenreich.jpg","url":"https://jaeh.at"}}Skip to Content@magicconceptsfiles &amp; directoriesmodulesthemeslibrariessummarylocal filelibs from npmexample@magic-librariesnews@magic/core library docs@magic/core libraries allow you to include client side functionality in your app.librarieswhat would javascript be without the millions of dependencies
that you can easily install and make the average webpage
slow[ly] (pun intended) grow towards a footprint of 5 megabytes.we think that all of that bloat is unneeded, unheeded and, frankly, not optimal.magic has one external client side dependency,
hyperapp,
 [~500 lines that provide our ui state machine]. thats it. and it won&#39;t change.we also have the tendency to write libraries specialized for our usecase, see
@magic/css,
 @magic/test,
 @magic/cli
and others.once there is a lib key in at least one component,
window.lib (browser) and global.lib (nodejs) will be set,
aliasing lib as a global variable in both environmentslib dir or fileif you need libraries in multiple otherwise independent modules,
it might be easier to keep your library dependencies in a central place.to achieve this, one can simply create /assets/lib.mjs and export an object from it.
this object will get merged into the globalThis.lib object,
making it available as &quot;lib&quot; throughout your app.alternatively, you can create a /assets/modules directory
and place UpperCaseNamed.mjs files in there.their names will be deferred from the filename
and they will be available in your app without importing them.
if you do not use one of the modules,
dead code elimination will simply remove it in production.copyexport default { name: () =&gt; {} }will turn intocopylib.name = () =&gt; {}npmall @magic-libraries and all npm packages starting with magic-library-* will be loaded automaticallyExamplefirst, install a @magic-librarycopynpm install --save --save-exact @magic-libraries/isthen, in javascriptcopyexport const View = props =&gt; div([  &#39;value is &#39;,  lib.is(props.value, &#39;string&#39;) ? &#39;&#39; : &#39;not&#39;,  &#39; a string&#39;,])@magic-libraries@magic libraries are pieces of client side functionality. they are not intended to be used in markdown, instead, a developer will use them when creating @magic-modules, which can then be used from markdown pages.@magic-libraries/db demokey =&gt; value store using localstoragegit repository@magic-libraries/gql demothe @magic-libraries/gql module encodes template strings to graphql queries ready to be sent to a server.git repository@magic-libraries/is demothe @magic-libraries/is module unifies the javascript type testing apis.git repository@magic-libraries/json demothe @magic-libraries/json module parses and stringifies json. it also returns errors instead of throwing them.git repository@magic-libraries/prevent-default demothe @magic-libraries/prevent-default module invokes event.preventDefault as a hyperapp effect.git repository@magic-libraries/try-catch demothe @magic-libraries/try-catch module returns errors instead of throwing them.git repository@magic-libraries/uri demothe @magic-libraries/uri module encodes objects to uri strings and decodes uri strings to objects.git repositorymade with a few bits of magic