<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/favicon.ico"/><title>@magic/core library docs</title><meta name="description" content="@magic/core libraries allow you to include client side functionality in your app."/><link rel="stylesheet" href="/magic.css?EvPdYRhMuET"/></head><body><div id="Magic"><div class="Wrapper"><header class="Header"><a class="LogoWrapper" href="/"><img class="Logo" src="/logo.png" role="presentation" alt=""/><span class="LogoText">@magic</span></a><nav class="Menu"><ul><li class="MenuItem"><a href="/core/concepts/">concepts</a></li><li class="MenuItem"><a href="/core/files/">files &amp; directories</a></li><li class="MenuItem"><a href="/core/modules/">modules</a></li><li class="MenuItem"><a href="/core/themes/">themes</a></li><li class="MenuItem active"><a href="/core/libraries/">libraries</a><ul><li class="MenuItem"><a href="/core/libraries/#require">require from</a></li><li class="MenuItem"><a href="/core/libraries/#require-assets">/assets/lib.js</a></li><li class="MenuItem"><a href="/core/libraries/#require-app">/app.js</a></li><li class="MenuItem"><a href="/core/libraries/#require-page">modules / pages</a></li><li class="MenuItem"><a href="/core/libraries/#example">example</a></li><li class="MenuItem"><a href="/core/libraries/#caveat">caveat</a></li><li class="MenuItem"><a href="/core/libraries/#gl-magic-libraries">@magic-libraries</a></li></ul></li></ul></nav></header><div class="Page"><h1></h1><h3 id="require">require</h3><h4 id="require-assets">require in /assets/lib/index.js</h4><p>if /assets/lib/index.js or /assets/lib.js exist, whatever those files export will be merged into LIB.</p><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="comment">// <span class="keyword">/</span>assets<span class="keyword">/</span>lib<span class="keyword">/</span><span class="object">index</span>.<span class="property">js</span> or /assets<span class="keyword">/</span><span class="object">lib</span>.<span class="property">js</span></span></code><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</code><code class="line">  <span class="colon">JSON</span>: <span class="string">&#39;@magic-libraries<span class="keyword">/</span>json&#39;</span>,</code><code class="line"><span class="comment">  // ./localLib resolves to /assets<span class="keyword">/</span>lib<span class="keyword">/</span><span class="object">localLib</span>.<span class="property">js</span></span></code><code class="line">  <span class="colon">localLib</span>: <span class="keyword">require</span>.<span class="property">resolve</span>(<span class="string">&#39;./localLib&#39;</span>),</code><code class="line">}</code></pre></div><h4 id="require-app">require in /app.js</h4><p>if /assets/app.js exports a lib key, app.lib will be merged into LIB</p><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="comment">// <span class="keyword">/</span><span class="object">app</span>.<span class="property">js</span></span></code><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</code><code class="line"><span class="comment">  // ... other app variables (<span class="state">state</span>, <span class="actions">actions</span>, View etc)</span></code><code class="line">  <span class="colon">lib</span>: {</code><code class="line">    <span class="colon">JSON</span>: <span class="string">&#39;@magic-modules<span class="keyword">/</span>json&#39;</span>,</code><code class="line">    <span class="colon">localLib</span>: <span class="keyword">require</span>.<span class="property">resolve</span>(<span class="string">&#39;./assets<span class="keyword">/</span>lib<span class="keyword">/</span>localLib&#39;</span>),</code><code class="line">  },</code><code class="line">}</code></pre></div><h4 id="require-page">require in pages or Modules</h4><p>if a page or Module exports a lib key, it will be merged into LIB</p><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="comment">// <span class="keyword">/</span>pages<span class="keyword">/</span><span class="object">index</span>.<span class="property">js</span></span></code><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</code><code class="line"><span class="comment">  // ... other page variables (<span class="state">state</span>, <span class="actions">actions</span>, View etc)</span></code><code class="line">  <span class="colon">lib</span>: {</code><code class="line">    <span class="colon">JSON</span>: <span class="string">&#39;@magic-modules<span class="keyword">/</span>json&#39;</span>,</code><code class="line">    <span class="colon">localLib</span>: <span class="keyword">require</span>.<span class="property">resolve</span>(<span class="string">&#39;./assets<span class="keyword">/</span>lib<span class="keyword">/</span>localLib&#39;</span>),</code><code class="line">  },</code><code class="line">}</code></pre></div><h3 id="example">example</h3><p>first import the library, see <a href="/libraries/#require">require</a></p><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line">div([<span class="string">&#39;<span class="object">LIB</span>.<span class="property">test</span> <span class="colon">output</span>: &#39;</span>, <span class="object">LIB</span>.<span class="property">test</span>(<span class="string">&#39;magic&#39;</span>)])</code></pre></div><p>renders</p><div><h4>LIB.test output: </h4><b>this string gets exported using export default, the argument it received was magic</b></div><div><h4>LIB.exportsTesting.testing output: </h4>this string comes from a file that uses <div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">export</span> <span class="keyword">const</span> testing</code></pre></div> to export it.</div><h4 id="caveat">caveat</h4><p>all libs must either export a single object using module.exports  OR using exports.key mappings. one OR the other. when using exports.key to export, you will always get an object of your exports in LIB. when using module.exports, structuring the LIB[name] object is up to you.</p><div class="GitList" id="gl-magic-libraries"><h2><a href="https://magic-libraries.github.io" target="_blank" rel="noopener">@magic-libraries</a></h2><div class="description">below is a collection of the available @magic client libraries.</div><ul id="gl-magic-libraries-ul"><li id="gl-magic-libraries-li-json" class="GitListItem"><h3><a href="https://github.com/magic-libraries/json" target="_blank" rel="noopener">@magic-libraries/json</a></h3><p>the @magic-libraries/json module parses and stringifies json. it also returns errors instead of throwing them.</p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/json" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/json.svg" role="presentation" alt=""/></a></li><li><a href="https://travis-ci.com/magic-libraries/json" target="_blank" rel="noopener"><img src="https://travis-ci.com/magic-libraries/json.svg?branch=master" role="presentation" alt=""/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/json/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/json/master.svg" role="presentation" alt=""/></a></li><li><a href="https://coveralls.io/github/magic-libraries/json" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/json/master.svg" role="presentation" alt=""/></a></li><li><a href="https://greenkeeper.io" target="_blank" rel="noopener"><img src="https://badges.greenkeeper.io/magic-libraries/json.svg" role="presentation" alt=""/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/json" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/json.svg" role="presentation" alt=""/></a></li></ul><a href="https://magic-libraries.github.io/json" target="_blank" rel="noopener">docs / demo</a></li><li id="gl-magic-libraries-li-is" class="GitListItem"><h3><a href="https://github.com/magic-libraries/is" target="_blank" rel="noopener">@magic-libraries/is</a></h3><p>the @magic-libraries/is module unifies the javascript type testing apis.</p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/is" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/is.svg" role="presentation" alt=""/></a></li><li><a href="https://travis-ci.com/magic-libraries/is" target="_blank" rel="noopener"><img src="https://travis-ci.com/magic-libraries/is.svg?branch=master" role="presentation" alt=""/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/is/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/is/master.svg" role="presentation" alt=""/></a></li><li><a href="https://coveralls.io/github/magic-libraries/is" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/is/master.svg" role="presentation" alt=""/></a></li><li><a href="https://greenkeeper.io" target="_blank" rel="noopener"><img src="https://badges.greenkeeper.io/magic-libraries/is.svg" role="presentation" alt=""/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/is" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/is.svg" role="presentation" alt=""/></a></li></ul><a href="https://magic-libraries.github.io/is" target="_blank" rel="noopener">docs / demo</a></li><li id="gl-magic-libraries-li-uri" class="GitListItem"><h3><a href="https://github.com/magic-libraries/uri" target="_blank" rel="noopener">@magic-libraries/uri</a></h3><p>the @magic-libraries/uri module  encodes objects to uri strings and decodes uri strings to objects.</p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/uri" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/uri.svg" role="presentation" alt=""/></a></li><li><a href="https://travis-ci.com/magic-libraries/uri" target="_blank" rel="noopener"><img src="https://travis-ci.com/magic-libraries/uri.svg?branch=master" role="presentation" alt=""/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/uri/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/uri/master.svg" role="presentation" alt=""/></a></li><li><a href="https://coveralls.io/github/magic-libraries/uri" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/uri/master.svg" role="presentation" alt=""/></a></li><li><a href="https://greenkeeper.io" target="_blank" rel="noopener"><img src="https://badges.greenkeeper.io/magic-libraries/uri.svg" role="presentation" alt=""/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/uri" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/uri.svg" role="presentation" alt=""/></a></li></ul><a href="https://magic-libraries.github.io/uri" target="_blank" rel="noopener">docs / demo</a></li></ul></div></div><footer class="Footer"><div class="Container">made with a few bits of <a target="_blank" rel="noopener" href="https://github.com/magic/core">magic</a></div></footer></div></div><script type="module" src="/magic.mjs?CcmXLyaWKQy"></script></body></html>